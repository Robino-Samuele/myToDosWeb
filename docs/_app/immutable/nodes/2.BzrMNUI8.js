import{a as $,t as D,d as Ne,c as we}from"../chunks/lgMO21Ug.js";import{i as ve}from"../chunks/BbF98w-M.js";import{j as Se,o as T,J as de,g as b,K as $e,L as ee,M as ae,N as V,p as B,at as J,O as ce,k as ue,P as xe,am as _e,G as K,au as Oe,av as Ce,al as Me,aw as Re,m as De,Z as he,ai as Le,a9 as me,a3 as Be,B as re,ax as Pe,i as Fe,ay as He,az as qe,af as Je,aA as Ge,aB as Ke,I as Ue,aC as Ve,E as je,aD as ze,aE as Ye,ao as We,b as pe,aF as Xe,aG as Ze,ab as Qe,n as P,aH as ea,aI as aa,a8 as te,W as se,aJ as ra,ap as ta,t as H,x as N,y as w,s as ye,aK as ge,aL as sa,aM as na,q as Y,aN as ia,w as S,v as Ee,e as oa,D as G}from"../chunks/DucslvUb.js";import{c as la,o as fa}from"../chunks/DEMCxWVJ.js";import{a as va,b as da,l as ca,c as ua,e as X,s as Z}from"../chunks/BVB8UGAA.js";import{p as L,i as _a}from"../chunks/CzMp5uvr.js";function ha(e,a){return a}function ma(e,a,r,t){for(var s=[],n=a.length,i=0;i<n;i++)Ce(a[i].e,s,!0);var _=n>0&&s.length===0&&r!==null;if(_){var u=r.parentNode;Me(u),u.append(r),t.clear(),M(e,a[0].prev,a[n-1].next)}Re(s,()=>{for(var p=0;p<n;p++){var h=a[p];_||(t.delete(h.k),M(e,h.prev,h.next)),De(h.e,!_)}})}function pa(e,a,r,t,s,n=null){var i=e,_={flags:a,items:new Map,first:null};T&&de();var u=null,p=!1,h=he(()=>{var f=r();return Fe(f)?f:f==null?[]:_e(f)});Se(()=>{var f=b(h),v=f.length;if(p&&v===0)return;p=v===0;let l=!1;if(T){var o=i.data===$e;o!==(v===0)&&(i=ee(),ae(i),V(!1),l=!0)}if(T){for(var m=null,c,E=0;E<v;E++){if(B.nodeType===8&&B.data===Le){i=B,l=!0,V(!1);break}var d=f[E],y=t(d,E);c=ke(B,_,m,null,d,y,E,s,a,r),_.items.set(y,c),m=c}v>0&&ae(ee())}if(!T){var A=me;ya(f,_,i,s,a,(A.f&J)!==0,t,r)}n!==null&&(v===0?u?ce(u):u=ue(()=>n(i)):u!==null&&xe(u,()=>{u=null})),l&&V(!0),b(h)}),T&&(i=B)}function ya(e,a,r,t,s,n,i,_){var u=e.length,p=a.items,h=a.first,f=h,v,l=null,o=[],m=[],c,E,d,y;for(y=0;y<u;y+=1){if(c=e[y],E=i(c,y),d=p.get(E),d===void 0){var A=f?f.e.nodes_start:r;l=ke(A,a,l,l===null?a.first:l.next,c,E,y,t,s,_),p.set(E,l),o=[],m=[],f=l.next;continue}if(ga(d,c,y),d.e.f&J&&ce(d.e),d!==f){if(v!==void 0&&v.has(d)){if(o.length<m.length){var g=m[0],k;l=g.prev;var I=o[0],x=o[o.length-1];for(k=0;k<o.length;k+=1)ne(o[k],g,r);for(k=0;k<m.length;k+=1)v.delete(m[k]);M(a,I.prev,x.next),M(a,l,I),M(a,x,g),f=g,l=x,y-=1,o=[],m=[]}else v.delete(d),ne(d,f,r),M(a,d.prev,d.next),M(a,d,l===null?a.first:l.next),M(a,l,d),l=d;continue}for(o=[],m=[];f!==null&&f.k!==E;)(n||!(f.e.f&J))&&(v??(v=new Set)).add(f),m.push(f),f=f.next;if(f===null)continue;d=f}o.push(d),l=d,f=d.next}if(f!==null||v!==void 0){for(var C=v===void 0?[]:_e(v);f!==null;)(n||!(f.e.f&J))&&C.push(f),f=f.next;var be=C.length;if(be>0){var Ie=null;ma(a,C,Ie,p)}}K.first=a.first&&a.first.e,K.last=l&&l.e}function ga(e,a,r,t){Oe(e.v,a),e.i=r}function ke(e,a,r,t,s,n,i,_,u,p){var h=(u&He)!==0,f=(u&qe)===0,v=h?f?Be(s):re(s):s,l=u&Pe?re(i):i,o={i:l,v,k:n,a:null,e:null,prev:r,next:t};try{return o.e=ue(()=>_(e,v,l,p),T),o.e.prev=r&&r.e,o.e.next=t&&t.e,r===null?a.first=o:(r.next=o,r.e.next=o.e),t!==null&&(t.prev=o,t.e.prev=o.e),o}finally{}}function ne(e,a,r){for(var t=e.next?e.next.e.nodes_start:r,s=a?a.e.nodes_start:r,n=e.e.nodes_start;n!==t;){var i=Je(n);s.before(n),n=i}}function M(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function Ea(e,a,r,t,s){var _;T&&de();var n=(_=a.$$slots)==null?void 0:_[r],i=!1;n===!0&&(n=a.children,i=!0),n===void 0||n(e,i?()=>t:t)}function Ae(e){var a,r,t="";if(typeof e=="string"||typeof e=="number")t+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(a=0;a<s;a++)e[a]&&(r=Ae(e[a]))&&(t&&(t+=" "),t+=r)}else for(r in e)e[r]&&(t&&(t+=" "),t+=r);return t}function ka(){for(var e,a,r=0,t="",s=arguments.length;r<s;r++)(e=arguments[r])&&(a=Ae(e))&&(t&&(t+=" "),t+=a);return t}function Aa(e){return typeof e=="object"?ka(e):e??""}function Ta(e){if(T){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var t=e.value;U(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var s=e.checked;U(e,"checked",null),e.checked=s}}};e.__on_r=r,Ge(r),va()}}function U(e,a,r,t){var s=e.__attributes??(e.__attributes={});T&&(s[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||s[a]!==(s[a]=r)&&(a==="style"&&"__styles"in e&&(e.__styles={}),a==="loading"&&(e[Ke]=r),r==null?e.removeAttribute(a):typeof r!="string"&&ba(e).includes(a)?e[a]=r:e.setAttribute(a,r))}var ie=new Map;function ba(e){var a=ie.get(e.nodeName);if(a)return a;ie.set(e.nodeName,a=[]);for(var r,t=e,s=Element.prototype;s!==t;){r=Ve(t);for(var n in r)r[n].set&&a.push(n);t=Ue(t)}return a}function Q(e,a,r){var t=e.__className,s=Ia(a,r);T&&e.className===s?e.__className=s:(t!==s||T&&e.className!==s)&&(a==null&&!r?e.removeAttribute("class"):e.className=s,e.__className=s)}function Ia(e,a){return(e??"")+(a?" "+a:"")}const Na=()=>performance.now(),O={tick:e=>requestAnimationFrame(e),now:()=>Na(),tasks:new Set};function Te(){const e=O.now();O.tasks.forEach(a=>{a.c(e)||(O.tasks.delete(a),a.f())}),O.tasks.size!==0&&O.tick(Te)}function wa(e){let a;return O.tasks.size===0&&O.tick(Te),{promise:new Promise(r=>{O.tasks.add(a={c:e,f:r})}),abort(){O.tasks.delete(a)}}}function q(e,a){e.dispatchEvent(new CustomEvent(a))}function Sa(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const a=e.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function oe(e){const a={},r=e.split(";");for(const t of r){const[s,n]=t.split(":");if(!s||n===void 0)break;const i=Sa(s.trim());a[i]=n.trim()}return a}const $a=e=>e;function le(e,a,r,t){var s=(e&Xe)!==0,n=(e&ea)!==0,i=s&&n,_=(e&aa)!==0,u=i?"both":s?"in":"out",p,h=a.inert,f=a.style.overflow,v,l;function o(){var y=me,A=K;te(null),se(null);try{return p??(p=r()(a,(t==null?void 0:t())??{},{direction:u}))}finally{te(y),se(A)}}var m={is_global:_,in(){var y;if(a.inert=h,!s){l==null||l.abort(),(y=l==null?void 0:l.reset)==null||y.call(l);return}n||v==null||v.abort(),q(a,"introstart"),v=W(a,o(),l,1,()=>{q(a,"introend"),v==null||v.abort(),v=p=void 0,a.style.overflow=f})},out(y){if(!n){y==null||y(),p=void 0;return}a.inert=!0,q(a,"outrostart"),l=W(a,o(),v,0,()=>{q(a,"outroend"),y==null||y()})},stop:()=>{v==null||v.abort(),l==null||l.abort()}},c=K;if((c.transitions??(c.transitions=[])).push(m),s&&da){var E=_;if(!E){for(var d=c.parent;d&&d.f&je;)for(;(d=d.parent)&&!(d.f&ze););E=!d||(d.f&Ye)!==0}E&&We(()=>{pe(()=>m.in())})}}function W(e,a,r,t,s){var n=t===1;if(Ze(a)){var i,_=!1;return Qe(()=>{if(!_){var c=a({direction:n?"in":"out"});i=W(e,c,r,t,s)}}),{abort:()=>{_=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(r==null||r.deactivate(),!(a!=null&&a.duration))return s(),{abort:P,deactivate:P,reset:P,t:()=>t};const{delay:u=0,css:p,tick:h,easing:f=$a}=a;var v=[];if(n&&r===void 0&&(h&&h(0,1),p)){var l=oe(p(0,1));v.push(l,l)}var o=()=>1-t,m=e.animate(v,{duration:u});return m.onfinish=()=>{var c=(r==null?void 0:r.t())??1-t;r==null||r.abort();var E=t-c,d=a.duration*Math.abs(E),y=[];if(d>0){var A=!1;if(p)for(var g=Math.ceil(d/16.666666666666668),k=0;k<=g;k+=1){var I=c+E*f(k/g),x=oe(p(I,1-I));y.push(x),A||(A=x.overflow==="hidden")}A&&(e.style.overflow="hidden"),o=()=>{var C=m.currentTime;return c+E*f(C/d)},h&&wa(()=>{if(m.playState!=="running")return!1;var C=o();return h(C,1-C),!0})}m=e.animate(y,{duration:d,fill:"forwards"}),m.onfinish=()=>{o=()=>t,h==null||h(t,1-t),s()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=P)},deactivate:()=>{s=P},reset:()=>{t===0&&(h==null||h(1,0))},t:()=>o()}}function xa(e,a,r=a){var t=ra();ca(e,"input",s=>{var n=s?e.defaultValue:e.value;if(n=j(e)?z(n):n,r(n),t&&n!==(n=a())){var i=e.selectionStart,_=e.selectionEnd;e.value=n??"",_!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(_,e.value.length))}}),(T&&e.defaultValue!==e.value||pe(a)==null&&e.value)&&r(j(e)?z(e.value):e.value),ta(()=>{var s=a();j(e)&&s===z(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function j(e){var a=e.type;return a==="number"||a==="range"}function z(e){return e===""?null:+e}var Oa=D('<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined">'),Ca=D('<span class="material-icons-outlined icon svelte-y47uu9"> </span>');function R(e,a){let r=L(a,"name",8),t=L(a,"handler",8,()=>{}),s=L(a,"color",8,"green");var n=Ca();ua(_=>{var u=Oa();$(_,u)});var i=N(n,!0);w(n),H(()=>{U(n,"style",`--color:${s()??""};`),Z(i,r())}),X("click",n,function(..._){var u;(u=t())==null||u.apply(this,_)}),$(e,n)}const Ma=e=>e;function fe(e,{delay:a=0,duration:r=400,easing:t=Ma}={}){const s=+getComputedStyle(e).opacity;return{delay:a,duration:r,easing:t,css:n=>`opacity: ${n*s}`}}var Ra=D("<div><!></div>");function F(e,a){let r=L(a,"last",8,!1);var t=Ra(),s=N(t);Ea(s,a,"default",{}),w(t),H(()=>Q(t,`cell ${(r()?"cell-last":"")??""} svelte-ir89wu`)),le(1,t,()=>fe,()=>({duration:700})),le(2,t,()=>fe,()=>({duration:350})),$(e,t)}var Da=D("<span> </span>");function La(e,a){let r=L(a,"prio",12,3),t=L(a,"disabled",8,!1);const s=u=>({1:"ALTA",2:"MEDIA",3:"BASSA"})[u],n=()=>{t()||r((r()+1)%3+1)};var i=Da(),_=N(i,!0);w(i),H((u,p)=>{Q(i,Aa(u),"svelte-3d91nw"),Z(_,p)},[()=>t()?"DISABILITATO":s(r()),()=>s(r())],he),X("click",i,n),$(e,i)}var Ba=D('<input type="text" placeholder="Inserisci il nuovo ToDo">'),Pa=D("<!> <!> <!> <!> <!>",1);function Fa(e,a){ye(a,!1);let r=L(a,"todo",12),t=ge(r().priority);const s=la(),n=o=>{s("change",{type:o,id:r().id})},i=()=>{r(r().done=!r().done,!0),n("update")},_=()=>{document.getElementById(r().id).blur(),n("update")};sa(()=>(oa(r()),b(t)),()=>{r().priority!=b(t)&&(G(t,r().priority),n("update"))}),na(),ve();var u=Pa(),p=Y(u);F(p,{children:(o,m)=>{ia();var c=Ne();H(()=>Z(c,r().id)),$(o,c)},$$slots:{default:!0}});var h=S(p,2);F(h,{children:(o,m)=>{var c=we(),E=Y(c);{var d=A=>{R(A,{name:"circle",handler:i,color:"red"})},y=A=>{R(A,{name:"task_alt",handler:i})};_a(E,A=>{r().done==!1?A(d):A(y,!1)})}$(o,c)},$$slots:{default:!0}});var f=S(h,2);F(f,{children:(o,m)=>{var c=Ba();Ta(c),H(()=>{Q(c,`todo-item-input-text ${(r().done==!0?"text-done":"")??""} svelte-ev9nhu`),U(c,"id",r().id)}),xa(c,()=>r().ask,E=>r(r().ask=E,!0)),X("change",c,_),$(o,c)},$$slots:{default:!0}});var v=S(f,2);F(v,{children:(o,m)=>{La(o,{get"Bind:prio"(){return r().priority},get disabled(){return r().done}})},$$slots:{default:!0}});var l=S(v,2);F(l,{last:!0,children:(o,m)=>{R(o,{name:"delete_forever",color:"red",handler:()=>n("delete")})},$$slots:{default:!0}}),$(e,u),Ee()}var Ha=D('<h1>Todos</h1> <div class="todo-list svelte-u5j5dn"><div class="header svelte-u5j5dn"><!></div> <div class="header svelte-u5j5dn"><!></div> <div class="header svelte-u5j5dn"><!></div> <div class="header svelte-u5j5dn"><!></div> <div class="header header-last svelte-u5j5dn"><!></div> <!></div>',1);function qa(e,a){ye(a,!1);let r=ge([]),t=0;const s=async()=>{let g={id:++t,task:"",done:!1,priority:3};console.log("CREATE",g),localStorage.setItem(`todo${g.id}`,JSON.stringify(g)),G(r,[...b(r),g])},n=async g=>{switch(g.detail.type){case"update":i(g.detail.id);break;case"delete":_(g.detail.id);break}},i=g=>{console.log("UPDATE:",g);const k=b(r).filter(I=>I.id==g)[0];localStorage.setItem(`todo${g}`,JSON.stringify(k))},_=g=>{console.log("DELETE:",g),G(r,b(r).filter(k=>k.id!=g)),localStorage.removeItem(`todo${g}`)};fa(async()=>{for(let g=0;g<localStorage.length;g++){const k=localStorage.key(g),I=+k.substring(4);I>=t&&(t=I);const x=JSON.parsel(localStorage.getItem(k));x!=null&&b(r).push(x)}G(r,[...b(r)])}),ve();var u=Ha(),p=S(Y(u),2),h=N(p),f=N(h);R(f,{name:"tag"}),w(h);var v=S(h,2),l=N(v);R(l,{name:"task_alt"}),w(v);var o=S(v,2),m=N(o);R(m,{name:"list"}),w(o);var c=S(o,2),E=N(c);R(E,{name:"schedule"}),w(c);var d=S(c,2),y=N(d);R(y,{name:"add_box",handler:s}),w(d);var A=S(d,2);pa(A,1,()=>b(r),ha,(g,k)=>{Fa(g,{get todo(){return b(k)},$$events:{change:n}})}),w(p),$(e,u),Ee()}var Ja=D('<main class="svelte-o2vw6d"><!></main>');function Ya(e){var a=Ja(),r=N(a);qa(r,{}),w(a),$(e,a)}export{Ya as component};
